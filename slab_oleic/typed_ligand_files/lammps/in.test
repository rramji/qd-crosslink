units                real
atom_style           full
boundary             p p p
dielectric           1
special_bonds        lj/coul 0.0 0.0 1.0
                     
pair_style           lj/charmm/coul/long/opt 9 10.00000
bond_style           harmonic
angle_style          harmonic
dihedral_style       harmonic
improper_style       umbrella
kspace_style         pppm 0.0001
                     
read_data            data.slab_test
                     
                     
                     
pair_modify          mix geometric
neighbor             2.0 multi
neigh_modify         every 2 delay 4 check yes
thermo_style         multi
thermo_modify        line multi format float %14.6f flush yes
variable             input string in.test
variable             sname string slab_test

group zn_s type 1 2
group oleic subtract all zn_s
                     
timestep             0.01

thermo               100
thermo_style         multi
dump min all custom 100 oleic_slab_nve_min.lammpstrj id type xu yu zu vx vy vz
fix restraint zn_s spring/self 1000
min_style            sd
minimize             1.0e-4 1.0e-4 500 5000
undump min
                     
print                .
print                =====================================
print                "NVT dynamics to heat system"
print                =====================================
print                .
                     
reset_timestep       0
fix                  shakeH all shake 0.0001 20 500 m 1.0079
velocity             all create 0.0 12345678 dist uniform
dump                 1 all custom 1000 ${sname}.heat.lammpstrj id type xu yu zu vx vy vz
fix                  4 all nvt temp 1.0 300.0 100.0
fix freeze_zn_s zn_s setforce 0.0 0.0 0.0
run                  10000
unfix                4
undump               1


print                .
print                =====================================
print                "NVT dynamics to evolve system"
print                =====================================
print                .
                     
reset_timestep       0
fix                  shakeH all shake 0.0001 20 500 m 1.0079
velocity             all create 0.0 12345678 dist uniform
dump                 1 all custom 1000 ${sname}.equil.lammpstrj id type xu yu zu vx vy vz
fix                  4 all nvt temp 300.0 300.0 100.0
fix freeze_zn_s zn_s setforce 0.0 0.0 0.0
run                  1000000
unfix                4
undump               1


